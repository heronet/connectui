<div class="container">
  <div class="row-1">
    <img src="/assets/dummy.png" alt="temp" class="profile-img" />
    <form class="text-box" #f="ngForm" (ngSubmit)="submitPost(f)">
      <textarea
        type="text"
        name="postText"
        class="text-input"
        placeholder="What's on your mind?"
        autocomplete="off"
        ngModel
        autosize
        rows="1"
      ></textarea>
      <button type="submit" class="btn-submit" [disabled]="isLoading">
        Post
      </button>
    </form>
  </div>
  <div class="row-2" [class.hidden]="isLoading">
    <label for="files">Add Pictures</label>
    <input
      type="file"
      id="files"
      (change)="handleFileInput()"
      accept="image/*"
      multiple
      hidden
      #filesInput
    />
    <span (click)="clearPictures()">Clear Pictures</span>
  </div>
  <div class="row-3" *ngIf="imageUrls.length > 0 && !isLoading">
    <div class="preview-main">
      <img *ngIf="initialImage" [src]="initialImage" alt="" />
    </div>
    <div class="small-imgs" *ngIf="imageUrls.length > 1">
      <img
        *ngFor="let imageUrl of imageUrls"
        [src]="imageUrl"
        alt=""
        (click)="initialImage = imageUrl"
      />
    </div>
  </div>
  <div class="row-4" *ngIf="imageUrls.length > 0">
    <button
      *ngIf="!isLoading"
      type="button"
      class="btn-submit"
      (click)="submitPost(f)"
    >
      Post
    </button>
  </div>
  <div class="row-4" *ngIf="isLoading">
    <span class="loading">Posting...</span>
  </div>
</div>
